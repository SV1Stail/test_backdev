# test_backdev

## Запуск
docker compose up
будет запущен контейнер и тесты. 
При запущенном контейнере по адресу http://localhost:8080/api можно проверить работу системы.
Через Postman:
### Path one
    * тип запроса GET 
    * в Params: Key "user_id" Value валидный uuid например "123e4567-e89b-12d3-a456-426614174001"
    * сделать запрос и записать полученные токены для path  two

### Path two
    * тип запроса POST
    * Header Key "Authorization" Value "Bearer <access token из path one>"
    * Body Key "refresh_token" Value "<refresh token из path one>"
    * сделать запрос и записать полученные токены 
    * повторить path two с новыми токенами и получить снова новые токены

**Используемые технологии:**

- Go
- JWT
- PostgreSQL

**Задание:**

Написать часть сервиса аутентификации.

Два REST маршрута:

- Первый маршрут выдает пару Access, Refresh токенов для пользователя с идентификатором (GUID) указанным в параметре запроса
- Второй маршрут выполняет Refresh операцию на пару Access, Refresh токенов

**Требования:**

Access токен тип JWT, алгоритм SHA512, хранить в базе строго запрещено.

Refresh токен тип произвольный, формат передачи base64, хранится в базе исключительно в виде bcrypt хеша, должен быть защищен от изменения на стороне клиента и попыток повторного использования.

Access, Refresh токены обоюдно связаны, Refresh операцию для Access токена можно выполнить только тем Refresh токеном который был выдан вместе с ним.

Payload токенов должен содержать сведения об ip адресе клиента, которому он был выдан. В случае, если ip адрес изменился, при рефреш операции нужно послать email warning на почту юзера (для упрощения можно использовать моковые данные).
